(this["webpackJsonpdata-table-app"]=this["webpackJsonpdata-table-app"]||[]).push([[0],{14:function(e,t,n){e.exports=n(23)},19:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),l=n.n(c),o=(n(19),n(2)),i=n(1),u=n(3),s=n(6),d=n.n(s),f=n(9),m=n(5),h=n.n(m),b=function(e){var t=e.columns,n=e.selectCell;return r.a.createElement("div",{className:"dt-header",role:"rowgroup"},r.a.createElement("div",{className:"dt-row dt-header-row",role:"row"},r.a.createElement(n,null),t.map((function(e){var n={};if(e.width)n.width=e.width;else{var a=100/t.length;n.flexBasis="".concat(a.toFixed(2),"%")}return r.a.createElement("div",{key:e.key,className:"dt-cell dt-header-cell",role:"columnheader",style:Object(i.a)({},n)},e.label)}))))},w=n(8),p=n(13),g=n(12),v=function(e){var t=e.row,n=e.columns,c=e.rowKey,l=e.selectCell,o=e.reactWindowStyleObj,u=e.onRowClick,s=e.rowIndex,d=e.setSizeForWindowing,f=e.hasComputedSize,m=Object(a.useRef)(),b=t[c],w=n.map((function(e){return{value:t[e.key],key:"".concat(e.key,"-").concat(b),width:e.width||null,numeric:e.numeric,__columnMeta__:e}}));return Object(a.useEffect)((function(){if(!f){var e=m.current.getBoundingClientRect().height;d(s,e)}}),[f,d,s]),r.a.createElement("div",{style:o,role:"none"},r.a.createElement("div",{ref:m,className:h()({"dt-row":!0,"dt-row--clickable":Boolean(u)}),onClick:function(){u(t,s)},role:"row",tabIndex:0},r.a.createElement(l,{rowId:b}),w.map((function(e){var t={};if(e.width)t.width=e.width;else{var a=100/n.length;t.flexBasis="".concat(a.toFixed(2),"%")}return r.a.createElement("div",{key:e.key,className:h()({"dt-cell":!0,"dt-cell--numeric":e.numeric}),role:"cell",style:Object(i.a)({},t)},e.value)}))))},j=function(e){var t=e.reactWindowStyleObj;return r.a.createElement("div",{style:t},r.a.createElement("div",{className:"dt-row dt-row--loading",role:"row"},r.a.createElement("span",{className:"dt-loading-span"}),r.a.createElement("span",{className:"dt-loading-span"}),r.a.createElement("span",{className:"dt-loading-span"})))},O="LOADING",k="LOADED",y=function(e){var t=e.rows,n=e.columns,c=e.rowKey,l=e.selectCell,s=e.onRowClick,d=e.infiniteLoading,f=e.totalRowCount,m=e.loadMoreData,h=e.pageSize,b=e.height,y=Object(a.useState)({}),E=Object(u.a)(y,2),C=E[0],S=E[1],R=Object(a.useRef)(),I=Object(a.useRef)({}),x=Object(a.useRef)(!0),N=Object(a.useState)([]),M=Object(u.a)(N,2),z=M[0],D=M[1];Object(a.useEffect)((function(){if(d){for(var e=0;e<t.length/h;e+=1)I.current[e+1]=k;if(x.current=Object.values(I.current).some((function(e){return e===O})),!x.current&&0!==z.length){var n=z.slice(0,1);D(z.slice(1)),I.current[n]=O,x.current=!0,m(n)}}}),[t,h,z,m,d]);var K=Object(a.useCallback)((function(e,t){S(Object(i.a)({},C,Object(w.a)({},e,t))),R&&R.current&&R.current.resetAfterIndex(e,!1)}),[C,S]),L=function(e){I.current[e]||D((function(t){return t.includes(e)?t:[].concat(Object(o.a)(t),[e])}))},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.ref,o=e.onItemsRendered,i={};return d&&(i.onItemsRendered=o),r.a.createElement(p.a,Object.assign({ref:a,height:b,itemCount:f,itemSize:function(e){return C[e]||50},width:"100%",overscanCount:2},i),(function(e){var a=e.index,o=e.style;if(a>=t.length)return r.a.createElement(j,{reactWindowStyleObj:o});var i=t[a];return r.a.createElement(v,{row:i,columns:n,rowKey:c,selectCell:l,onRowClick:s,rowIndex:a,reactWindowStyleObj:o,setSizeForWindowing:K,hasComputedSize:Boolean(C[a])})}))};return d?r.a.createElement(g.a,{isItemLoaded:function(e){return e<t.length},itemCount:f,loadMoreItems:function(e,t){for(var n=Math.floor(t/h)+1,a=1;a<=n;a+=1)L(a)}},(function(e){var t=e.onItemsRendered,n=e.ref;return B({ref:function(e){R.current=e,n(e)},onItemsRendered:t})})):B({ref:R})};y.defaultProps={loadMoreData:function(){},pageSize:1};var E=y,C=(n(21),/^[1-9]{1}(\d)*px$/),S=function(e){var t=e.columns,n=e.rows,c=e.rowKey,l=e.selectable,i=e.selectedKeys,u=e.onSelectionChange,s=e.onRowClick,d=e.infiniteLoading,f=d.totalRowCount,m=d.loadMoreData,w=d.pageSize,p=e.height,g=Object(a.useRef)(!1),v=Object(a.useCallback)((function(e){e.length===n.length?g.current=!0:g.current=!1,u(e)}),[u,n]);Object(a.useEffect)((function(){g.current&&i.length!==n.length&&v(n.map((function(e){return e[c]})))}),[i,n,c,v]);var j=Object(a.useMemo)((function(){return t.some((function(e){return"string"===typeof e.width&&C.test(e.width.trim())}))}),[t]),O=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.header,a=void 0!==t&&t;return l?a?function(){var e=n.length>0&&i.length===n.length;return r.a.createElement("div",{className:"dt-cell dt-header-cell dt-cell--select",role:"columnheader"},r.a.createElement("input",{type:"checkbox",checked:e,"aria-checked":e,"aria-label":"Select All",onClick:function(e){return e.stopPropagation()},onChange:function(e){v(e.target.checked?n.map((function(e){return e[c]})):[])}}))}:function(e){var t=e.rowId,n=i.includes(t);return r.a.createElement("div",{className:"dt-cell dt-cell--select",role:"cell"},r.a.createElement("input",{type:"checkbox",checked:n,"aria-checked":n,"aria-label":"Select Row",onClick:function(e){return e.stopPropagation()},onChange:function(e){v(e.target.checked?[].concat(Object(o.a)(i),[t]):i.filter((function(e){return e!==t})))}}))}:function(){return null}}),[l,i,v,n,c]),k=Object(a.useMemo)((function(){return O()}),[O]),y=Object(a.useMemo)((function(){return O({header:!0})}),[O]);return r.a.createElement("div",{className:h()({"dt-table":!0,"dt-table--full-width":!j}),role:"grid"},r.a.createElement(b,{columns:t,selectCell:y}),r.a.createElement(E,{columns:t,rows:n,rowKey:c,selectCell:k,onRowClick:s,infiniteLoading:Boolean(f&&m&&w),totalRowCount:f||n.length,loadMoreData:m,pageSize:w,height:p}))};S.defaultProps={selectable:!1,infiniteLoading:{},rowKey:"id",height:500,selectedKeys:[],onSelectionChange:function(){},onRowClick:function(){}};var R=S,I=(n(22),function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.fetch("https://jsonplaceholder.typicode.com/photos?albumId=".concat(t)).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)([]),s=Object(u.a)(l,2),m=s[0],h=s[1],b=Object(a.useMemo)((function(){return[{key:"id",label:"ID"},{key:"title",label:"Title"},{key:"thumbnail",label:"Thumbnail"},{key:"url",label:"URL"},{key:"albumId",label:"Album ID",numeric:!0}]}),[]),w=Object(a.useMemo)((function(){return m.map((function(e){return Object(i.a)({},e,{thumbnail:r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{alt:"thumbnail",src:e.thumbnailUrl,height:"80",width:"80"})),url:r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.url)})}))}),[m]),p=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:n=e.sent,h((function(e){return[].concat(Object(o.a)(e),Object(o.a)(n))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"table-container"},r.a.createElement(R,{selectable:!0,selectedKeys:n,onSelectionChange:function(e){c(e)},columns:b,rows:w,onRowClick:function(e,t){console.log(e,t)},infiniteLoading:{loadMoreData:p,pageSize:50,totalRowCount:5e3}}))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.8d0d5616.chunk.js.map